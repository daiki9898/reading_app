<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<nav class="navbar navbar-expand-lg bg-info mb-5" th:fragment="header" style="--bs-navbar-color: rgba(255, 255, 255, 0.55);
    --bs-navbar-hover-color: rgba(255, 255, 255, 0.75);
    --bs-navbar-disabled-color: rgba(255, 255, 255, 0.25);
    --bs-navbar-active-color: #fff;
    --bs-navbar-brand-color: #fff;
    --bs-navbar-brand-hover-color: #fff;
    --bs-navbar-toggler-border-color: rgba(255, 255, 255, 0.1);">
	<div class="container-fluid">
		<a class="navbar-brand" href="/user/reading-books">
			<i class="bi bi-book d-inline-block align-text-top" alt="Logo"></i>
			My Library
		</a>
	    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon" style="background-image: url('data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 30 30\'%3e%3cpath stroke=\'rgba%28255, 255, 255, 0.55%29\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' stroke-width=\'2\' d=\'M4 7h22M4 15h22M4 23h22\'/%3e%3c/svg%3e');"></span>
	    </button>
	    <div class="collapse navbar-collapse" id="navbarNavDropdown">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link active" href="/user/reading-books">Home</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="/user/finished-books">本棚</a>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">書籍一覧</a>
					<ul class="dropdown-menu">
						<li><a class="dropdown-item" href="/user/reading-books">読書中</a></li>
						<li><a class="dropdown-item" href="/user/finished-books">読了済み</a></li>
					</ul>
				</li>
				<div th:if="${readingNumber < readingMaxSize}">
					<li class="nav-item">
						<a class="nav-link" href="/user/reading-books/register">登録</a>
	        		</li>
				</div>
			</ul>
	    </div>
	    <!-- profile icon -->
		<div class="ms-auto">
			<a data-bs-toggle="collapse" href="#user-profile-collapse" role="button" aria-expanded="false" aria-controls="user-profile-collapase" style="text-decoration: none;">
				<i class="fs-2 text-light position-relative bi bi-person-circle" id="profile"></i>
			</a>
			<script type="text/javascript">
				 // hover effect
				 const profile = document.getElementById("profile");
				 profile.addEventListener("mouseover", () => {
					 profile.style.opacity = 0.9;
				 });
				 profile.addEventListener("mouseleave", () => {
					 profile.style.opacity = 1.0;
				 });
		 	</script>
		</div>
		<!-- user profile collapse -->
	    <div class="d-flex flex-row-reverse" style="position: absolute; z-index: 1000; top: 100%; right: 0%;">
			<div class="collapse" id="user-profile-collapse">
				<div class="card card-body text-center p-0" th:object="${userProfile}" style="--bs-card-border-color: #6c757d">
					<ul class="list-group list-group-flush">
						<li class="list-group-item">
							<div class="fw-bold">ユーザー名</div>
							<div class="fs-5" th:text="*{username}"></div>
						</li>
						<li class="list-group-item">
							<div class="fw-bold">読書中の本</div>
							<div><span class="fs-5" th:text="*{readingNumber}"></span>/<span th:text="${readingMaxSize}"></span>冊</div>
						</li>
						<li class="list-group-item">
							<div class="fw-bold">今まで読んだ本</div>
							<div><span class="fs-5" th:text="*{finishedNumber}"></span>/<span th:text="${finishedMaxSize}"></span>冊</div>
						</li>
						<li class="list-group-item">
							<a class="link-body-emphasis link-underline link-underline-opacity-0" href="/user/settings"><i class="bi bi-gear"></i>設定</a>
						</li>
						<li class="list-group-item">
							<form th:action="@{/logout}" method="post">
								<button type="submit" class="btn btn-secondary">ログアウト</button>
							</form>
						</li>
					</ul>
				</div>
			</div>
	    </div>
    </div>
</nav>
</html>